<script>
  $(function() {
    // a workaround for a flaw in the demo system (http://dev.jqueryui.com/ticket/4375), ignore!
    $( "#dialog:ui-dialog" ).dialog( "destroy" );

    $( "#upload_link" ).click(function(){
      $( "#dialog-modal" ).dialog({
        height: 140,
        width: 600,
        modal: true,
      });
    });

  });
</script>

<div id="dialog-modal" title="Upload file">
  <%= form_for @boxfile do |b| %>
    <%= b.file_field :file %>
    <%= b.submit 'Upload file'%>
  <% end %>
</div>
